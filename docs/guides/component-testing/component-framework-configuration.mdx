---
title: Component Testing Config
sidebar_position: 30
sidebar_label: Configuration
---

When you launch Cypress for the first time in a project, the app will
automatically guide you through setup and configuration. You don't need to do
anything additional to get started.

Refer to the "Framework Configuration" guide in each UI framework's overview
guide for a list of supported development servers and how they are configured.

Below are more advanced configuration options you can customize to fit your
project.

## Custom Index File

By default, Cypress renders your components into an HTML file located at
`cypress/support/component-index.html`.

The index file allows you to add in global assets, such as styles, fonts, and
external scripts.

You can provide an alternative path to the file using the `indexHtmlFile` option
in the [component config](/guides/references/configuration#component) options:

```js
{
  component: {
    devServer,
    indexHtmlFile: '/custom/path/to/component-index.html'
  }
}
```

## Custom Dev Server

A custom function can be passed into the `devServer` option, which allows the
use of build systems not provided by Cypress out of the box. These can be from
the Cypress community, preview builds not included with the app, or a custom one
you create.

The function's signature takes in a object with the following properties as its
only parameter and needs to resolve an object containing the port of your dev
server.

```ts
interface DevServerOptions {
  specs: Cypress.Spec[]
  cypressConfig: Cypress.PluginConfigOptions
  devServerEvents: NodeJS.EventEmitter
}
```

:::cypress-config-example

```ts
{
  component: {
    async devServer({specs, cypressConfig, devServerEvents}: DevServerOptions) {
      const port = await startDevServer(specs, cypressConfig, devServerEvents)
      return {
        port: port
      }
    },
  },
}
```

:::

Any requests triggered during a test using the `devServerPublicPathRoute` as
defined in the `cypressConfig` will be forwarded to your server. The
cypress-runner will trigger a request for an index.html when a test is started.
Your server needs to send the custom index.html file after injecting a script to
load the actual test. If you do not bundle your support file along with the
tests, you need to add a separate import statement for the support file.

```ts
const CypressInstance = (window.Cypress = parent.Cypress)
const { absolute, relative } = CypressInstance.spec
const relativeUrl = `${CypressInstance.config(
  'devServerPublicPathRoute'
)}/${relative}`

// load the testfile - you can extend the load function to also load css
CypressInstance.onSpecWindow(window, [
  { absolute, relative, relativeUrl, load: () => import(relativeUrl) },
])

// then start the test process
CypressInstance.action('app:window:before:load', window)
```

The `devServerEvents` event emitter should be used to notify cypress about
finished builds by emitting the `dev-server:compile:success`-event and to listen
for the `dev-server:specs:changed`-event that will notify you about changed
entry points.

## Spec Pattern for Component Tests

By default, Cypress looks for spec files anywhere in your project with an
extension of `.cy.js`, `.cy.jsx`, `.cy.ts`, or `.cy.tsx`. However, you can
change this behavior for component tests with a custom `specPattern` value. In
the following example, we've configured Cypress to look for spec files with
those same extensions, but only in the `src` folder or any of its
subdirectories.

```js
{
  component: {
    specPattern: 'src/**/*.cy.{js,jsx,ts,tsx}'
  }
}
```

## Additional Config

For more information on all the available configuration options, see the
[configuration reference](/guides/references/configuration).
