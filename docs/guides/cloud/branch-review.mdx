---
title: Branch Review
sidebar_position: 35
---

:::info

## <Icon name="graduation-cap" /> What you'll learn

- What Branch Review is and why you should use it
- What test insights are available to review between branches
- How Branch Review works and what might impact available data

:::

Cypress Cloud users can review which tests in their current branch are failed, flaky, pending, added, or modified compared to their base branch.

Previously, pinpointing changes in your test suite's results required a manual side-by-side comparison between your newly-introduced branch's test runs and your base branch's test runs. This sub-optimal workflow often fails to answer the fundamental questions, _what changed_ and _why?_ You might be left wondering if the same tests are flaky between branches, when new failures were introduced, or if you added sufficient test coverage to your new branch.

Cypress Branch Review is designed to elevate your pull request (PR) review workflow. It allows you to quickly identify the impact a pull request might have on your test suite in a single view. Compare which tests are failing, flaky, pending, added, or modified between the **<u>source</u>** and **<u>base</u>** branches and prevent the merging of low-quality code.

<DocsImage
  src="/img/guides/cloud/branch-review/branch-review3.jpg"
  alt="Cypress Branch Review"
/>

:::info

Cypress Branch Review is currently only available for [GitHub integrations](/guides/cloud/integrations/source-control/github). We are working on adding support for GitLab and Bitbucket soon.

:::

## Public Beta Access

:::tip

To access the Branch Review public beta, an admin can simply enable it under "Cypress Labs" in your Organization Settings in Cypress Cloud.

<DocsImage
  src="/img/guides/cloud/branch-review/labs_beta.png"
  alt="Enable Branch Review Beta"
/>

:::

## Getting Started

Branch Review works by leveraging the Cypress Cloud Github integration to query the Github API for **open** pull requests on active branches.

Your project will first need to be connected to a GitHub repository. If you haven't already, follow the steps in [Install the Cypress GitHub app](/guides/cloud/integrations/source-control/github#Install-the-Cypress-GitHub-app) to connect your project to GitHub.

To access Branch Review, navigate to the **Branches** tab in the left sidebar and select the branch you want to review. In order to see a comparison, the branch you select must have an open pull request.

<DocsImage
  src="/img/guides/cloud/branch-review/get-to-branch-review.jpg"
  alt="Get to Branch Review"
/>

## Branch Details

### View Options

Branch Review is the default view of the **Branches** tab. You can also toggle to see a list of Runs filtered by this branch.

<DocsImage
  src="/img/guides/cloud/branch-review/branch-review-views.jpg"
  alt="Displaying different views for branches"
/>

### Review Header

The header includes the Git commit message, PR selector, PR status and base and target branch labels with the Cypress Cloud test run ID number (#).

If there are multiple pull requests open for the same branch, you can select the pull request you want to review from the dropdown to the right of the commit message.

Clicking the branch label will link you directly to the appropriate [run overview](/guides/cloud/debugging/recorded-runs#Overview-tab) and hovering on these elements exposes additional run meta data.

<DocsImage
  src="/img/guides/cloud/branch-review/branch-review-header.jpg"
  alt="Branch Review Header"
/>

### Review Test Status

When on the review screen, you will see tabs Failures, Flaky, Pending, Added, and Modified. Each tab will show you the specs that fall into that category. You can click on a test to view the test details.

<DocsImage
  src="/img/guides/cloud/branch-review/branch-review-details2.jpg"
  alt="Branch Review Details"
  caption="Viewing new failing tests for this PR"
/>

:::info

The status key indicates a change in state between the two branches:

<!-- prettier-ignore-start -->

- <svg
    width="41"
    height="20"
    viewBox="0 0 41 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M15 9L13 11L17 11L15 9Z"
      fill="#C62B49"
      stroke="#C62B49"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M27.1221 15.1641C25.085 15.1641 23.7656 14.0293 23.6357 12.4707L23.6289 12.3887H24.8115L24.8184 12.457C24.9209 13.4277 25.8096 14.0977 27.1221 14.0977C28.4141 14.0977 29.2959 13.373 29.2959 12.3271V12.3135C29.2959 11.1035 28.4277 10.4268 27.0469 10.4268H25.8096V9.3877H26.9922C28.168 9.3877 28.9883 8.66309 28.9883 7.67871V7.66504C28.9883 6.63281 28.3115 6.03809 27.1084 6.03809C25.9463 6.03809 25.1191 6.65332 25.0166 7.65137L25.0098 7.71973H23.8271L23.834 7.65137C23.9912 6.04492 25.2627 4.97168 27.1084 4.97168C28.9883 4.97168 30.2256 6.01758 30.2256 7.51465V7.52832C30.2256 8.74512 29.3643 9.5791 28.1338 9.83887V9.86621C29.5693 9.98926 30.5469 10.8848 30.5469 12.2861V12.2998C30.5469 13.9473 29.0977 15.1641 27.1221 15.1641Z"
      fill="#C62B49"
    />
  </svg>
  total number introduced in your branch
- <svg
    width="41"
    height="20"
    viewBox="0 0 41 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M15 11L13 9L17 9L15 11Z"
      fill="#00814D"
      stroke="#00814D"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M28.4893 15V12.9492H23.5332V11.835L27.8604 5.13574H29.6787V11.8691H31.0732V12.9492H29.6787V15H28.4893ZM24.75 11.8691H28.4893V6.18848H28.4482L24.75 11.8418V11.8691Z"
      fill="#00814D"
    />
  </svg>
  total number decreased or resolved in your branch
- &nbsp;&#8239;<svg width="26" height="20" viewBox="0 0 26 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.9893 15V12.9492H9.0332V11.835L13.3604 5.13574H15.1787V11.8691H16.5732V12.9492H15.1787V15H13.9893ZM10.25 11.8691H13.9893V6.18848H13.9482L10.25 11.8418V11.8691Z" fill="#747994"/>
</svg>
&#8239;&#8239;&#8239;&#8239;total count, for example, <em>3 new and 1 existing</em>

<!-- prettier-ignore-end -->

<hr />

The test state (failed, flaky, pending) is also indicated in the spec:

- _new_ = the state was <u>not</u> previously captured, but now <u>is</u> captured (newly pending tests can imply an `it.skip()` was not removed)
- _existing_ = the state <u>was</u> previously captured and now <u>is still</u> captured
- _resolved_ = the state <u>was</u> previously captured but now is <u>no longer</u>

:::

### Review Test Comparison

Navigating into the test detail view reveals a side-by-side comparison of the test results on both branches, as well as, artifacts so you can compare before vs. after your PR. This can help narrow the focus on changes introduced or resolved on either branch and elevate the source of flake within tests throughout different attempts. Review the test definition panel for diff snapshots to help quickly determine changes in test code.

<DocsImage
  src="/img/guides/cloud/branch-review/test2.png"
  alt="Test Comparison View"
/>

## Github Pull Request Comments

The Cypress Cloud Github Integration offers detailed test information via [PR comments](/guides/cloud/integrations/source-control/github#Pull-request-comments). Follow the "Review all test suite changes" link to load the Branch Review between the source and base branches.

<DocsImage
  src="/img/guides/cloud/integrations/github/pr-comment-fail.jpg"
  alt="Cypress GitHub App PR"
/>

## Troubleshooting

### Note on Available Data

Branch Review is a powerful tool to compare two branches with recorded runs to Cypress Cloud. There are factors that can impact what is available to review between a source and base branch.

Most importanly, unless a PR is open (not closed or merged), the branch review is not guaranteed to show you the latest run recorded for the branch. When a PR transitions into a closed/merged state, it does not consider any subsequent commits pushed to the branch as part of the PR itself. Be sure that the latest CI job has been triggered or you may see the _closest_ commit and not the one that was _just_ merged.

Additionally, whether or not a branch at a particular commit has a run recorded to Cypress Cloud will affect what is displayed. The table below captures scenario across both branches:

|              Base Branch              |             Source Branch             | What Branch Review Displays                         |
| :-----------------------------------: | :-----------------------------------: | --------------------------------------------------- |
| <Badge type="success">has run</Badge> | <Badge type="success">has run</Badge> | Comparison data using both found runs               |
| <Badge type="success">has run</Badge> |  <Badge type="danger">no run</Badge>  | Comparison data using last run on source branch     |
|  <Badge type="danger">no run</Badge>  | <Badge type="success">has run</Badge> | Non-comparison data with found source run           |
|  <Badge type="danger">no run</Badge>  |  <Badge type="danger">no run</Badge>  | Non-comparison data using last run on source branch |

## Best Practices

### Grouping Test Runs

Cypress Cloud allows for [grouping recorded tests](/guides/cloud/smart-orchestration/parallelization#Grouping-test-runs) together under a single run. This means multiple `cypress run` calls can be labeled and associated to a single run in Cypress Cloud.

It's important to avoid recording random sets of tests between branches. Recording multiple runs per commit without grouping can cause issues, as Branch Review relies on the _latest_ runs. Therefore, recording one run per commit and utilizing grouping to ensure accurate comparisons during branch reviews is recommended to improve effectiveness.
