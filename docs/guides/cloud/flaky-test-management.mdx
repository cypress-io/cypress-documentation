---
title: Flaky Test Management
sidebar_position: 60
sidebar_label: Flake Management
---

By enabling [test burn-in](/guides/references/experiments#Experimental-burn-in) and/or [test retries](/guides/guides/test-retries), Cypress Cloud can
detect, flag, and track flaky tests from your recorded Cypress test runs in your
CI/CD pipeline.

:::info

<strong>What is a flaky test?</strong>

A test is considered to be **flaky** when it can pass and fail across multiple
retry attempts without any code changes.

For example, a test is executed and fails, then the test is executed again,
without any change to the code, but this time it passes.

:::

:::info

<strong>What is test burn-in?</strong>

[Burn-in](/guides/references/experiments#Experimental-burn-in) (an experimental feature) *proactively* checks for flake on new, modified, or previously failing or flaky tests, by retrying these tests that meet these conditions.

If a test passes burn-in, it is considered "not flaky" until it either flakes, fails, or is modified. Otherwise, if it fails any of the burn-in attempts, it is flaky.

:::

:::info

<strong>What are test retries?</strong>

[Test retries](/guides/guides/test-retries#Configure-Test-Retries) automatically retry failed tests to *reactively* find flaky tests, by retrying any tests that fail on the first attempt.

:::

## Flake Detection

:::tip

<strong>
  <Icon name="star" /> Premium Cypress Cloud Feature
</strong>

**Test flake detection** is available to users with a
[Team Cypress Cloud plan](https://cypress.io/pricing).

:::

One way to battle flaky tests is to detect and monitor them as they occur in an
organized and methodical manner such that you can assess their severity to
assist with prioritizing their fix.

:::caution

<strong>Test Burn-in, Retries, & Flake Detection</strong>

Test burn-in and retries are the _fundamental mechanisms_ enabling detection of flaky
tests by Cypress Cloud. [Burn-in](/guides/references/experiments#Experimental-burn-in) is primarily for "high risk" tests that might otherwise be mistaken for simply passing results. [Retries](/guides/guides/test-retries) check only tests that initiated failed for flake. 

**Enabling burn-in and/or test retries is required** (preferably both are enabled)
to take advantage of any flaky test management feature.

If you want control over the pass or fail result of any test found to be flaky, you want to use [experimental test retries](/guides/references/experiments#Experimental-Test-Retries), which is available as of Cypress `13.4.0`.

:::

### Flagging Flaky Tests

Test runs with flaky tests will be flagged with the number of flaky of tests
within Cypress Cloud "Latest runs" page. Flaky tests runs can also be filtered
in and out via the "Flaky" filter within this page.

<DocsImage
  src="/img/guides/cloud/flaky-test-management/flaky-runs-view.png"
  alt="Flagging flaky tests runs in Cypress Cloud"
/>

Any failure across multiple test run attempts triggered by test retrying will
result in a given test case to be flagged as flaky.

### Flaky Test Analytics

:::tip

<strong>
  <Icon name="star" /> Premium Cypress Cloud Feature
</strong>

**Test flake analytics** are available to users with a
[Team Cypress Cloud plan](https://cypress.io/pricing).

:::

The flaky tests analytics page provides a birds-eye-view on the state of flake
within your project by showing:

- Plot of the **number of flaky tests over time**.
- Overall **flakiness level** of the entire project.
- **Number of flake tests** grouped by their severity.
- Filterable **log of all flaky test** cases ordered by severity.

:::info

<strong>Flake Severity</strong>

Test flake **severity** is determined by the frequency of flake or the **flake
rate** of a given test. Flake severity level can be used to prioritize the work
needed to resolve flake issues.

:::

<DocsImage
  src="/img/guides/cloud/flaky-test-management/flake-analytics.png"
  alt="Flaky tests analytics"
/>

Selecting any of the flaky test cases in the analytics page will reveal a test
case details panel that shows:

- Historical log of latest flaky runs
- Most common errors across the runs of the test case
- Related test case changelog
- Plot of failure rate and flaky rate over time.

All these test case level details provide deeper context around the occurrences
of flake over time to assist with debugging the root cause.

<DocsImage
  src="/img/guides/cloud/flaky-test-management/flake-panel.png"
  alt="Flaky tests analytics details panel"
/>

### Failure Rate vs Flake Rate

It is important to understand the distinction between failure rate and flake
rate when test retries is enabled. These two metrics are tracked over time for
each flaky test case within the flaky tests analytics page:

<DocsImage
  src="/img/guides/cloud/flaky-test-management/flake-v-fail-2.png"
  alt="flake rate vs fail rate"
/>

A test case flagged as flaky could have still passed after multiple test retry
attempts. The test result status of individual test retry attempts is separate
and distinct from the final test status.

For example, a project is configured to retry failing tests up to 3 times. The
first two attempts fail, but the last and third attempt passes, resulting in a
final status of passing.

With this concept in mind, it is possible to always have zero final failure rate
while exhibiting flake as demonstrated below:

<DocsImage
  src="/img/guides/cloud/flaky-test-management/flake-v-fail-1.png"
  alt="flake rate vs fail rate"
/>

## Flake Alerting

:::tip

<strong>
  <Icon name="star" /> Premium Cypress Cloud Feature
</strong>

**Test flake alerting** is available to users with a
[Team Cypress Cloud plan](https://cypress.io/pricing).

:::

Cypress Cloud can provide alerts via source control ([GitHub](/guides/cloud/integrations/source-control/github), [GitLab](/guides/cloud/integrations/source-control/gitlab), [BitBucket](/guides/cloud/integrations/source-control/bitbucket)), [Slack](/guides/cloud/integrations/slack), and [Microsoft Teams](/guides/cloud/integrations/teams) integrations to further assist with
staying on top of flake occurrences.

### GitHub

Flake alerting via GitHub PR comments and status checks can be enabled within a
project's GitHub integration settings:

<DocsImage
  src="/img/guides/cloud/flaky-test-management/gh-flake.png"
  alt="GitHub flake alert settings"
/>

After enabling GitHub flake alerting, GitHub PR comments will show the number of
flaky tests associated with the PR within the test summary, and include a
"Flakiness" section highlighting the specific tests that flaked.

<DocsImage
  src="/img/guides/cloud/flaky-test-management/flake-pr-comment.png"
  alt="GitHub flake alert pr comment"
/>

### Slack

Flake alerting via Slack can be enabled within Slack integration settings:

<DocsImage
  src="/img/guides/cloud/flaky-test-management/slack-flake.png"
  alt="Slack flake alert settings"
/>

After enabling Slack alerts, Cypress Cloud will send Slack messages whenever
flaky tests are detected:

<DocsImage
  src="/img/guides/cloud/flaky-test-management/flake-slack-alert.png"
  alt="Slack flake alert"
/>

## See Also

- Read our blog posts about fighting
  [the test flake](https://cypress.io/blog/tag/flake/).
